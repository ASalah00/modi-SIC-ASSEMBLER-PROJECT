COPY	START	1000	
FIRST	STL	RETADR,X	
CLOOP	JSUB	RDREC	
--		LDA	#4096	
--		LDA	LENGTH	
--		COMP	ZERO	
--		JEQ	ENDFIL	
--		JSUB	WRREC	
--		J	CLOOP	
ENDFIL	LDA	EOF	
--		STA	BUFFER	
--		LDA	THREE	
--		STA	LENGTH	
--		JSUB	WRREC	
--		FLOAT	WRREC	
--		LDL	RETADR	
--		RSUB	--	
EOF	BYTE	C'EOF'	
THREE	WORD	15	
ZERO	WORD	45	
RETADR	RESW	1	
LENGTH	RESW	1	
BUFFER	RESB	4096	
RDREC	LDX	ZERO	
--		LDA	ZERO	
RLOOP	TD	INPUT	
--		JEQ	RLOOP	
--		RD	INPUT	
--		COMP	ZERO	
--		JEQ	EXIT	
--		STCH	BUFFER,X	
--		TIX	MAXLEN	
--		JLT	RLOOP	
EXIT	STX	LENGTH	
--		RSUB	--	
INPUT	BYTE	X'F1F10D'	
MAXLEN	WORD	4096	
WRREC	WORD	4	
--		END	FIRST	
